local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/memejames/elerium-v2-ui-library//main/Library", true))()

local window = library:AddWindow("Test", {
    main_color = Color3.fromRGB(41, 74, 122),
    min_size = Vector2.new(650, 606),
    can_resize = false
})

local Test = window:AddTab("Test") -- Ensure the tab is created

local HideNameToggle = Test:AddSwitch("Hide Name", function(state)
    local player = game.Players.LocalPlayer
    local playerName = player.Name
    
    -- Loop through all players in the game
    for _, otherPlayer in pairs(game.Players:GetPlayers()) do
        -- Skip the local player
        if otherPlayer.Name ~= playerName then
            local character = game.Workspace:FindFirstChild(otherPlayer.Name)
            
            -- Make sure the player's character is found in the workspace
            if character then
                local head = character:FindFirstChild("Head")
                if head then
                    local nameGui = head:FindFirstChild("nameGui")  -- Find nameGui inside Head
                    if nameGui then
                        -- Search for the UI elements (strengthImage, karmaLabel, nameLabel, rankLabel)
                        local strengthImage = nameGui:FindFirstChild("strengthImage")
                        local karmaLabel = nameGui:FindFirstChild("karmaLabel")
                        local nameLabel = nameGui:FindFirstChild("nameLabel")
                        local rankLabel = nameGui:FindFirstChild("rankLabel")
                        
                        -- If all the elements are found, toggle their visibility based on the toggle state
                        if strengthImage and karmaLabel and nameLabel and rankLabel then
                            if state then
                                -- Hide the elements when the toggle is ON (only for other players)
                                strengthImage.Visible = false
                                karmaLabel.Visible = false
                                nameLabel.Visible = false
                                rankLabel.Visible = false
                            else
                                -- Restore visibility when the toggle is OFF
                                strengthImage.Visible = true
                                karmaLabel.Visible = true
                                nameLabel.Visible = true
                                rankLabel.Visible = true
                            end
                        end
                    end
                end
            end
        end
    end
end)
