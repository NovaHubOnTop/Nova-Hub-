local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/memejames/elerium-v2-ui-library//main/Library", true))()

local window = library:AddWindow("Test", {
    main_color = Color3.fromRGB(41, 74, 122),
    min_size = Vector2.new(650, 600),
    can_resize = false,
})

local Killing = window:AddTab("Killing")

local switch = Killing:AddSwitch("Auto Kill", function(state)
    _G.autoPunchanim = state -- Global toggle

    if state then  
        local player = game.Players.LocalPlayer  
        local playerName = player.Name  
        local character = player.Character or player.CharacterAdded:Wait()

        local punchTool = player.Backpack:FindFirstChild("Punch") or character:FindFirstChild("Punch")
        
        if not punchTool then
            warn("Punch tool not found")
            return
        end

        -- Equip the tool if needed
        if punchTool.Parent ~= character then  
            punchTool.Parent = character
        end  

        while _G.autoPunchanim do  
            if not punchTool or punchTool.Parent ~= character then
                warn("Punch tool missing or unequipped")
                _G.autoPunchanim = false
                return
            end

            -- Fire punch events
            game.Players.LocalPlayer.muscleEvent:FireServer("punch", "rightHand")  
            game.Players.LocalPlayer.muscleEvent:FireServer("punch", "leftHand")  

            -- Apply firetouchinterest to all players
            for _, targetPlayer in pairs(game.Players:GetPlayers()) do
                if targetPlayer ~= player and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
                    local targetHRP = targetPlayer.Character.HumanoidRootPart
                    local punchHitbox = punchTool:FindFirstChildWhichIsA("Part") -- Try to find a hitbox part

                    if punchHitbox then
                        firetouchinterest(punchHitbox, targetHRP, 1) -- Start touch
                        wait(0.1)
                        firetouchinterest(punchHitbox, targetHRP, 0) -- Stop touch
                    else
                        warn("No hitbox found in Punch tool")
                    end
                end
            end

            wait() -- Adjust timing for better performance
        end  
    else  
        _G.autoPunchanim = false  
    end  
end)
