local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/memejames/elerium-v2-ui-library//main/Library", true))()

local window = library:AddWindow("Test", {
    main_color = Color3.fromRGB(41, 74, 122),
    min_size = Vector2.new(650, 600),
    can_resize = false,
})

local Killing = window:AddTab("Killing")

local switch = Killing:AddSwitch("Auto Kill", function(state)
    _G.autoPunchanim = state -- Global variable to control the loop

    if state then  
        local player = game.Players.LocalPlayer  
        local playerName = player.Name  
        local punchTool =  
            player.Backpack:FindFirstChild("Punch") or  
            game.Workspace:FindFirstChild(playerName):FindFirstChild("Punch")  
        
        while _G.autoPunchanim do  
            if punchTool then  
                if punchTool.Parent ~= game.Workspace:FindFirstChild(playerName) then  
                    punchTool.Parent = game.Workspace:FindFirstChild(playerName) -- Equip the tool  
                end  
                
                -- Fire punch events
                game.Players.LocalPlayer.muscleEvent:FireServer("punch", "rightHand")  
                game.Players.LocalPlayer.muscleEvent:FireServer("punch", "leftHand")  
                
                -- Use firetouchinterest on all players
                for _, targetPlayer in pairs(game.Players:GetPlayers()) do
                    if targetPlayer ~= player and targetPlayer.Character then
                        local targetCharacter = targetPlayer.Character
                        local rightHand = punchTool:FindFirstChild("RightHand")  
                        local leftHand = punchTool:FindFirstChild("LeftHand")  

                        if rightHand and leftHand then
                            firetouchinterest(rightHand, targetCharacter.PrimaryPart, 1) -- Start touch
                            firetouchinterest(leftHand, targetCharacter.PrimaryPart, 1) -- Start touch
                            wait(0.1) -- Small delay to register the touch
                            firetouchinterest(rightHand, targetCharacter.PrimaryPart, 0) -- Stop touch
                            firetouchinterest(leftHand, targetCharacter.PrimaryPart, 0) -- Stop touch
                        end
                    end
                end
                
                wait() -- Adjust delay as needed for timing
            else  
                warn("Punch tool not found")  
                _G.autoPunchanim = false -- Stop if tool is missing  
            end  
        end  
    else  
        _G.autoPunchanim = false  
    end  
end)
