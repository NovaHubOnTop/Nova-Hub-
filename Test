local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/memejames/elerium-v2-ui-library//main/Library", true))()

local window = library:AddWindow("Test", {
    main_color = Color3.fromRGB(41, 74, 122),
    min_size = Vector2.new(650, 600),
    can_resize = false,
})

local Killing = window:AddTab("Killing")

_G.autoPunchanim = false  -- Global toggle

local switch = Killing:AddSwitch("Auto Kill", function(state)
    _G.autoPunchanim = state  

    if state then
        task.spawn(function()
            while _G.autoPunchanim do
                local player = game.Players.LocalPlayer
                local character = player.Character or player.CharacterAdded:Wait()
                local punchTool = player.Backpack:FindFirstChild("Punch") or character:FindFirstChild("Punch")

                -- Ensure the punch tool is always equipped
                if not punchTool then
                    local storedPunch = game.ReplicatedStorage:FindFirstChild("Punch")
                    if storedPunch then
                        punchTool = storedPunch:Clone()
                        punchTool.Parent = player.Backpack
                    end
                end
                
                -- Re-equip if needed
                if punchTool and punchTool.Parent ~= character then
                    punchTool.Parent = character
                end
                
                -- Fire punch events
                game.Players.LocalPlayer.muscleEvent:FireServer("punch", "rightHand")
                game.Players.LocalPlayer.muscleEvent:FireServer("punch", "leftHand")

                -- FireTouchInterest loop
                _G.autoFireTouch = true
                task.spawn(function()
                    while _G.autoPunchanim and _G.autoFireTouch do
                        for _, targetPlayer in pairs(game.Players:GetPlayers()) do
                            if targetPlayer ~= player and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
                                local targetHRP = targetPlayer.Character.HumanoidRootPart
                                local rightHand = character:FindFirstChild("RightHand")
                                local leftHand = character:FindFirstChild("LeftHand")

                                if rightHand and leftHand then
                                    firetouchinterest(rightHand, targetHRP, 1)  -- Start touch
                                    firetouchinterest(leftHand, targetHRP, 1)  -- Start touch
                                    wait(0.1)
                                    firetouchinterest(rightHand, targetHRP, 0)  -- Stop touch
                                    firetouchinterest(leftHand, targetHRP, 0)  -- Stop touch
                                else
                                    warn("RightHand or LeftHand not found in character")
                                end
                            end
                        end
                        wait(0.1) -- Small delay for performance
                    end
                end)

                wait(0.1)  -- Small delay for better performance
            end
        end)
    else  
        _G.autoPunchanim = false  
        _G.autoFireTouch = false  -- Stops FireTouchInterest loop
    end
end)
